'use strict';

var through = require('through2'),
    EE = require('events').EventEmitter;

module.exports = function (pipeFn) {
  var inStream = through.obj();
  var outStream = pipeFn(inStream);
  var combinedStream = new EE(); // not a real stream, just pretending
  combinedStream.on('pipe', function (source) {
    source.unpipe(this);
    source.pipe(inStream);
  });
  combinedStream.pipe = function (dest, options) {
    return outStream.pipe(dest, options);
  };
  return combinedStream;
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zdHJlYW0tY29tYmluZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQzdCLEVBQUUsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDOztBQUV4QyxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsTUFBTSxFQUFFO0FBQ2pDLE1BQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUM3QixNQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsTUFBSSxjQUFjLEdBQUcsSUFBSSxFQUFFLEVBQUUsQ0FBQztBQUM5QixnQkFBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBVSxNQUFNLEVBQUU7QUFDMUMsVUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwQixVQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0dBQ3ZCLENBQUMsQ0FBQztBQUNILGdCQUFjLENBQUMsSUFBSSxHQUFHLFVBQVUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUM3QyxXQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ3RDLENBQUM7QUFDRixTQUFPLGNBQWMsQ0FBQztDQUN2QixDQUFDIiwiZmlsZSI6ImxpYi9zdHJlYW0tY29tYmluZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdGhyb3VnaCA9IHJlcXVpcmUoJ3Rocm91Z2gyJyksXG4gICAgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBpcGVGbikge1xuICB2YXIgaW5TdHJlYW0gPSB0aHJvdWdoLm9iaigpO1xuICB2YXIgb3V0U3RyZWFtID0gcGlwZUZuKGluU3RyZWFtKTtcbiAgdmFyIGNvbWJpbmVkU3RyZWFtID0gbmV3IEVFKCk7IC8vIG5vdCBhIHJlYWwgc3RyZWFtLCBqdXN0IHByZXRlbmRpbmdcbiAgY29tYmluZWRTdHJlYW0ub24oJ3BpcGUnLCBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgc291cmNlLnVucGlwZSh0aGlzKTtcbiAgICBzb3VyY2UucGlwZShpblN0cmVhbSk7XG4gIH0pO1xuICBjb21iaW5lZFN0cmVhbS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3V0U3RyZWFtLnBpcGUoZGVzdCwgb3B0aW9ucyk7XG4gIH07XG4gIHJldHVybiBjb21iaW5lZFN0cmVhbTtcbn07XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uIn0=
