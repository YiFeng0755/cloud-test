'use strict';

var _get = require('babel-runtime/helpers/get')['default'];

var _inherits = require('babel-runtime/helpers/inherits')['default'];

var _createClass = require('babel-runtime/helpers/create-class')['default'];

var _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _events = require('events');

var _events2 = _interopRequireDefault(_events);

var _appiumSupport = require('appium-support');

var log = _appiumSupport.logger.getLogger('TestBundle_Process');

var startDetector = function startDetector(s) {
    return (/com\.boyaa\.application\.testbundle\.TestBundle/.test(s)
    );
};

var UiAutomator_Test = (function (_events$EventEmitter) {
    _inherits(UiAutomator_Test, _events$EventEmitter);

    function UiAutomator_Test(adb) {
        _classCallCheck(this, UiAutomator_Test);

        if (!adb) {
            log.errorAndThrow("adb is required to instantiate UiAutomator");
        }
        _get(Object.getPrototypeOf(UiAutomator_Test.prototype), 'constructor', this).call(this);
        this.adb = adb;
    }

    // AppiumBootstrap.jar
    // io.appium.android.bootstrap.Bootstrap

    _createClass(UiAutomator_Test, [{
        key: 'start',
        value: function start() {
            var processIsAlive, args;
            return _regeneratorRuntime.async(function start$(context$2$0) {
                var _this = this;

                while (1) switch (context$2$0.prev = context$2$0.next) {
                    case 0:
                        processIsAlive = undefined;
                        context$2$0.prev = 1;

                        log.debug("Starting UiAutomator_Test");
                        this.changeState(UiAutomator_Test.STATE_STARTING);

                        // killing any uiautomator existing processes
                        context$2$0.next = 6;
                        return _regeneratorRuntime.awrap(this.killUiAutomator2OnDevice());

                    case 6:

                        log.debug('Starting UiAutomator_Test');
                        args = ['shell', 'am', 'instrument', '-w', '-e', 'class', 'com.boyaa.application.testbundle.TestBundle#test_RunServer', 'com.boyaa.application.testbundle/android.test.InstrumentationTestRunner'];

                        // 只是初始化，只有调用start的时候，才会spawn
                        this.proc = this.adb.createSubProcess(args);

                        // handle out-of-bound exit by simply emitting a stopped state
                        this.proc.on('exit', function (code, signal) {
                            processIsAlive = false;
                            // cleanup
                            if (_this.state !== UiAutomator_Test.STATE_STOPPED && _this.state !== UiAutomator_Test.STATE_STOPPING) {
                                var msg = 'testbundle process exited unexpectedly with code ' + code + ', ' + ('signal ' + signal);
                                log.error(msg);
                            } else if (_this.state === UiAutomator_Test.STATE_STOPPING) {
                                log.debug("UiAutomator_Test shut down normally");
                            }
                            _this.changeState(UiAutomator_Test.STATE_STOPPED);
                        });

                        context$2$0.next = 12;
                        return _regeneratorRuntime.awrap(this.proc.start(startDetector));

                    case 12:
                        processIsAlive = true;
                        this.changeState(UiAutomator_Test.STATE_ONLINE);
                        return context$2$0.abrupt('return', this.proc);

                    case 17:
                        context$2$0.prev = 17;
                        context$2$0.t0 = context$2$0['catch'](1);

                        this.emit(UiAutomator_Test.EVENT_ERROR, context$2$0.t0);

                        if (!processIsAlive) {
                            context$2$0.next = 25;
                            break;
                        }

                        context$2$0.next = 23;
                        return _regeneratorRuntime.awrap(this.killUiAutomator2OnDevice());

                    case 23:
                        context$2$0.next = 25;
                        return _regeneratorRuntime.awrap(this.proc.stop());

                    case 25:
                        log.errorAndThrow(context$2$0.t0);

                    case 26:
                    case 'end':
                        return context$2$0.stop();
                }
            }, null, this, [[1, 17]]);
        }
    }, {
        key: 'shutdown',
        value: function shutdown() {
            return _regeneratorRuntime.async(function shutdown$(context$2$0) {
                while (1) switch (context$2$0.prev = context$2$0.next) {
                    case 0:
                        log.debug('Shutting down UiAutomator_Test');
                        this.changeState(UiAutomator_Test.STATE_STOPPING);
                        context$2$0.prev = 2;
                        context$2$0.next = 5;
                        return _regeneratorRuntime.awrap(this.proc.stop());

                    case 5:
                        context$2$0.next = 9;
                        break;

                    case 7:
                        context$2$0.prev = 7;
                        context$2$0.t0 = context$2$0['catch'](2);

                    case 9:
                        this.changeState(UiAutomator_Test.STATE_STOPPED);

                    case 10:
                    case 'end':
                        return context$2$0.stop();
                }
            }, null, this, [[2, 7]]);
        }
    }, {
        key: 'changeState',
        value: function changeState(state) {
            log.debug('Moving to state \'' + state + '\'');
            this.state = state;
            this.emit(UiAutomator_Test.EVENT_CHANGED, { state: state });
        }
    }, {
        key: 'killUiAutomator2OnDevice',
        value: function killUiAutomator2OnDevice() {
            return _regeneratorRuntime.async(function killUiAutomator2OnDevice$(context$2$0) {
                while (1) switch (context$2$0.prev = context$2$0.next) {
                    case 0:
                        context$2$0.prev = 0;
                        context$2$0.next = 3;
                        return _regeneratorRuntime.awrap(this.adb.killProcessesByName('enginedlqp'));

                    case 3:
                        context$2$0.next = 8;
                        break;

                    case 5:
                        context$2$0.prev = 5;
                        context$2$0.t0 = context$2$0['catch'](0);

                        log.warn('Error while killing uiAutomator: ' + context$2$0.t0);

                    case 8:
                    case 'end':
                        return context$2$0.stop();
                }
            }, null, this, [[0, 5]]);
        }
    }]);

    return UiAutomator_Test;
})(_events2['default'].EventEmitter);

UiAutomator_Test.EVENT_ERROR = 'uiautomator_error';
UiAutomator_Test.EVENT_CHANGED = 'stateChanged';
UiAutomator_Test.STATE_STOPPED = 'stopped';
UiAutomator_Test.STATE_STARTING = 'starting';
UiAutomator_Test.STATE_ONLINE = 'online';
UiAutomator_Test.STATE_STOPPING = 'stopping';

exports['default'] = UiAutomator_Test;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf8;base64,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Q0FBQyxjQUFjLENBQUMsQ0FBQzs7O3lEQUV4QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTs7Ozs7Ozs7Ozs7QUFHMUIsNEJBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLENBQUM7Ozs7Ozs7U0FDcEQ7OztlQUdXLHFCQUFDLEtBQUssRUFBRTtBQUNoQixlQUFHLENBQUMsS0FBSyx3QkFBcUIsS0FBSyxRQUFJLENBQUM7QUFDeEMsZ0JBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLGdCQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxFQUFDLEtBQUssRUFBTCxLQUFLLEVBQUMsQ0FBQyxDQUFDO1NBQ3REOzs7ZUFFOEI7Ozs7Ozt5REFFakIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUM7Ozs7Ozs7Ozs7QUFFaEQsMkJBQUcsQ0FBQyxJQUFJLHNEQUF5QyxDQUFDOzs7Ozs7O1NBRXpEOzs7V0FoRkMsZ0JBQWdCO0dBQVMsb0JBQU8sWUFBWTs7QUFvRmxELGdCQUFnQixDQUFDLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQztBQUNuRCxnQkFBZ0IsQ0FBQyxhQUFhLEdBQUcsY0FBYyxDQUFDO0FBQ2hELGdCQUFnQixDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUM7QUFDM0MsZ0JBQWdCLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxnQkFBZ0IsQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGdCQUFnQixDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUM7O3FCQUU5QixnQkFBZ0IiLCJmaWxlIjoibGliL3VpYXV0b21hdG9yMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBldmVudHMgZnJvbSAnZXZlbnRzJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnYXBwaXVtLXN1cHBvcnQnO1xyXG5cclxuXHJcbmNvbnN0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ1Rlc3RCdW5kbGVfUHJvY2VzcycpO1xyXG5cclxuXHJcbmNvbnN0IHN0YXJ0RGV0ZWN0b3IgPSAocykgPT4geyByZXR1cm4gL2NvbVxcLmJveWFhXFwuYXBwbGljYXRpb25cXC50ZXN0YnVuZGxlXFwuVGVzdEJ1bmRsZS8udGVzdChzKTsgfTtcclxuXHJcbmNsYXNzIFVpQXV0b21hdG9yX1Rlc3QgZXh0ZW5kcyBldmVudHMuRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yIChhZGIpIHtcclxuICAgICAgICBpZiAoIWFkYikge1xyXG4gICAgICAgICAgICBsb2cuZXJyb3JBbmRUaHJvdyhcImFkYiBpcyByZXF1aXJlZCB0byBpbnN0YW50aWF0ZSBVaUF1dG9tYXRvclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFkYiA9IGFkYjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBwaXVtQm9vdHN0cmFwLmphclxyXG4gICAgLy8gaW8uYXBwaXVtLmFuZHJvaWQuYm9vdHN0cmFwLkJvb3RzdHJhcFxyXG4gICAgYXN5bmMgc3RhcnQgKCkge1xyXG4gICAgICAgIGxldCBwcm9jZXNzSXNBbGl2ZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsb2cuZGVidWcoXCJTdGFydGluZyBVaUF1dG9tYXRvcl9UZXN0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yX1Rlc3QuU1RBVEVfU1RBUlRJTkcpO1xyXG5cclxuICAgICAgICAgICAgLy8ga2lsbGluZyBhbnkgdWlhdXRvbWF0b3IgZXhpc3RpbmcgcHJvY2Vzc2VzXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMua2lsbFVpQXV0b21hdG9yMk9uRGV2aWNlKCk7XHJcblxyXG4gICAgICAgICAgICBsb2cuZGVidWcoJ1N0YXJ0aW5nIFVpQXV0b21hdG9yX1Rlc3QnKTtcclxuICAgICAgICAgICAgbGV0IGFyZ3MgPSBbJ3NoZWxsJywgJ2FtJywgJ2luc3RydW1lbnQnLCAnLXcnLCAnLWUnLCAnY2xhc3MnLCAnY29tLmJveWFhLmFwcGxpY2F0aW9uLnRlc3RidW5kbGUuVGVzdEJ1bmRsZSN0ZXN0X1J1blNlcnZlcicsXHJcbiAgICAgICAgICAgICAgICAnY29tLmJveWFhLmFwcGxpY2F0aW9uLnRlc3RidW5kbGUvYW5kcm9pZC50ZXN0Lkluc3RydW1lbnRhdGlvblRlc3RSdW5uZXInXVxyXG5cclxuICAgICAgICAgICAgLy8g5Y+q5piv5Yid5aeL5YyW77yM5Y+q5pyJ6LCD55Soc3RhcnTnmoTml7blgJnvvIzmiY3kvJpzcGF3blxyXG4gICAgICAgICAgICB0aGlzLnByb2MgPSB0aGlzLmFkYi5jcmVhdGVTdWJQcm9jZXNzKGFyZ3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gaGFuZGxlIG91dC1vZi1ib3VuZCBleGl0IGJ5IHNpbXBseSBlbWl0dGluZyBhIHN0b3BwZWQgc3RhdGVcclxuICAgICAgICAgICAgdGhpcy5wcm9jLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0lzQWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIGNsZWFudXBcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvcl9UZXN0LlNUQVRFX1NUT1BQRUQgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvcl9UZXN0LlNUQVRFX1NUT1BQSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1zZyA9IGB0ZXN0YnVuZGxlIHByb2Nlc3MgZXhpdGVkIHVuZXhwZWN0ZWRseSB3aXRoIGNvZGUgJHtjb2RlfSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzaWduYWwgJHtzaWduYWx9YDtcclxuICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IobXNnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gVWlBdXRvbWF0b3JfVGVzdC5TVEFURV9TVE9QUElORykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlVpQXV0b21hdG9yX1Rlc3Qgc2h1dCBkb3duIG5vcm1hbGx5XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvcl9UZXN0LlNUQVRFX1NUT1BQRUQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvYy5zdGFydChzdGFydERldGVjdG9yKTtcclxuICAgICAgICAgICAgcHJvY2Vzc0lzQWxpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yX1Rlc3QuU1RBVEVfT05MSU5FKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvYztcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChVaUF1dG9tYXRvcl9UZXN0LkVWRU5UX0VSUk9SLCBlKTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3NJc0FsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmtpbGxVaUF1dG9tYXRvcjJPbkRldmljZSgpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2cuZXJyb3JBbmRUaHJvdyhlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2h1dGRvd24gKCkge1xyXG4gICAgICAgIGxvZy5kZWJ1ZygnU2h1dHRpbmcgZG93biBVaUF1dG9tYXRvcl9UZXN0Jyk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvcl9UZXN0LlNUQVRFX1NUT1BQSU5HKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Muc3RvcCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yX1Rlc3QuU1RBVEVfU1RPUFBFRCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNoYW5nZVN0YXRlIChzdGF0ZSkge1xyXG4gICAgICAgIGxvZy5kZWJ1ZyhgTW92aW5nIHRvIHN0YXRlICcke3N0YXRlfSdgKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgdGhpcy5lbWl0KFVpQXV0b21hdG9yX1Rlc3QuRVZFTlRfQ0hBTkdFRCwge3N0YXRlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMga2lsbFVpQXV0b21hdG9yMk9uRGV2aWNlICgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFkYi5raWxsUHJvY2Vzc2VzQnlOYW1lKCdlbmdpbmVkbHFwJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBsb2cud2FybihgRXJyb3Igd2hpbGUga2lsbGluZyB1aUF1dG9tYXRvcjogJHtlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblVpQXV0b21hdG9yX1Rlc3QuRVZFTlRfRVJST1IgPSAndWlhdXRvbWF0b3JfZXJyb3InO1xyXG5VaUF1dG9tYXRvcl9UZXN0LkVWRU5UX0NIQU5HRUQgPSAnc3RhdGVDaGFuZ2VkJztcclxuVWlBdXRvbWF0b3JfVGVzdC5TVEFURV9TVE9QUEVEID0gJ3N0b3BwZWQnO1xyXG5VaUF1dG9tYXRvcl9UZXN0LlNUQVRFX1NUQVJUSU5HID0gJ3N0YXJ0aW5nJztcclxuVWlBdXRvbWF0b3JfVGVzdC5TVEFURV9PTkxJTkUgPSAnb25saW5lJztcclxuVWlBdXRvbWF0b3JfVGVzdC5TVEFURV9TVE9QUElORyA9ICdzdG9wcGluZyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVaUF1dG9tYXRvcl9UZXN0O1xyXG4iXSwic291cmNlUm9vdCI6Ii4uLy4uIn0=
